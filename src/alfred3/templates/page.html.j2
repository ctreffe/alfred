{% extends "layout.html.j2" %}

{% block page %}


<div class="container-fluid page-container {% if responsive %} responsive-width {% else %} fixed-width {% endif %}"
id="page-container">

<div class="progress-container {% if fix_progress_top %}progress-sticky{% endif %}" id="progress-container">

    {% if show_progress %}
        <div class="progress">
            <div class="progress-bar progress-bar-striped" role="progressbar" style="width: {{ progress }}%;"
                aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100">
                <!-- <span class="progress-text">{{ progress }}%</span> -->
            </div>
        </div>
        {% endif %}
</div>

    <!-- Experimenter Messages -->
    {% if messages %}
    {% for message in messages %}
    <div class="alert {{ message.level }}">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {% if message.title %}
        <strong>{{message.title}}</strong>
        {% endif %}
        {{ message.msg }}
    </div>
    {% endfor %}
    {% endif %}

    <!-- Corrective Hints -->
    {% if corrective_hints %}
    <div class="row alert alert-block" id="correctiveBar">
        <ul>
            {% for hint in corrective_hints %}
            <li>{{ hint }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}

    <!-- Page Header -->
    <div class="page-header" id="page-header">
        {% if title %}
        <h1 class="page-title">{{ title }}</h1>
        {% endif %}

        {% if subtitle %}
        <p class="page-subtitle">{{ subtitle }}</p>
        {% endif %}
    </div>

    <!-- Main Page Body -->
    <form class="page-form" method="post" id="form">

        <!-- Element widgets -->
        <div class="page-body" id="page-body">

            {% for element in elements %}

            {% if element.web_widget and element.should_be_shown %}
            {{ element.web_widget | safe }}
            {% endif %}

            {% endfor %}

            <!-- Status Text -->
            <div class="row with-margin">
                <div class="span12" id="statustext">
                    {{statustext}}
                </div>
            </div>

            <!-- Hidden fields -->
            <input type="hidden" name="page_token" value="{{ page_token }}">
            <input type="hidden" id="alt-submit">
        </div>

        <!-- navigation area-->
        <div class="page-navigation" id="page-navigation">
            <hr />
            <div class="row justify-content-center p-1">
                <div class="col-12 text-center form-actions" id="controls">

                    <!-- backward button -->
                    {% if backward_text %}
                    <button type="submit" class="btn btn-dark" id="back_button" name="move" value="backward"
                        submit="backward">{{ backward_text }}</button>
                    {% endif %}

                    <!-- forward button -->
                    {% if forward_text %}
                    <button type="submit" class="btn btn-dark" id="forward_button" name="move" value="forward"
                        submit="forward">{{ forward_text }}</button>
                    {% endif %}

                    <!-- finish button -->
                    {% if finish_text %}
                    <button type="submit" class="btn btn-dark" id="finish_button" name="move" value="forward"
                        submit="forward">{{ finish_text }}</button>
                    {% endif %}

                </div>

                {% if debug %}

                <div class="col-12 mt-3">
                {{ jumplist.web_widget | safe }}
                </div>
                {% endif %}
            </div>
        </div>
    </form>

</div>

{% endblock page %}